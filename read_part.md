# generate some function to read basis info
使用python完成以下函数，不准用re库的正则表达式
## function table
|function name|input|output|basis explain|
|-----|----|---|---|
|get_atom_num|filename: str : 输入文件名|N: int :原子数量|从 gaussian log文件中读取体系的原子数量|
|get_atom_mass|file_name: str : 输入文件名 <br> N: int : 原子数量|M: np.array : 原子质量 shape=N\*1| 从 gaussian log文件中读取体系的原子数量 |
|get_coor|file_name: str : 输入文件名 <br> N: int : 原子数量|shape=N*3的数组 行对应原子，列对应x y z三个方向|从 gaussian log 中读取原子坐标|
|get_omega|file_name: str : 输入文件名 <br> N: int : 原子数量|shape=（3N-6）\*1的数组 3N-6为自由度|从 gaussian log 中读取振动频率|
|get_mode|file_name: str : 输入文件名 <br> N: int : 原子数量|shape=(3N-6)\*3N的数组 3N-6对应振动模式数量 N对应原子，3对应x y z三个方向|从 gaussian log 中读取振动模式的分量|
|get_force|file_name: str : 输入文件名 <br> N: int : 原子数量|shape=N*3的数组 行对应原子，列对应x y z三个方向|从 gaussian log 中读取原子受力|
## additional explanation
### get_atom_num
在log的下面这行中说明了原子数量，如：
```
 NAtoms=     34 NQM=       34 NQMF=       0 NMMI=      0 NMMIF=      0
```
行中的34即表示有34个原子
### get_atom_mass
下面是log文件中包含原子质量信息的区块的例子：
```
 (Nuclear quadrupole moments (NQMom) in fm**2, nuclear magnetic moments (NMagM)
  in nuclear magnetons)

  Atom         1           2           3           4           5           6           7           8           9          10
 IAtWgt=          12          12          12          12          12          12           1           1           1           1
 AtmWgt=  12.0000000  12.0000000  12.0000000  12.0000000  12.0000000  12.0000000   1.0078250   1.0078250   1.0078250   1.0078250
 NucSpn=           0           0           0           0           0           0           1           1           1           1
 AtZEff=  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000
 NQMom=    0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000
 NMagM=    0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   2.7928460   2.7928460   2.7928460   2.7928460
 AtZNuc=   6.0000000   6.0000000   6.0000000   6.0000000   6.0000000   6.0000000   1.0000000   1.0000000   1.0000000   1.0000000

  Atom        11          12          13          14          15          16          17          18          19          20
 IAtWgt=          12          12           1           1           1          12           1           1           1          14
 AtmWgt=  12.0000000  12.0000000   1.0078250   1.0078250   1.0078250  12.0000000   1.0078250   1.0078250   1.0078250  14.0030740
 NucSpn=           0           0           1           1           1           0           1           1           1           2
 AtZEff=  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000
 NQMom=    0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   2.0440000
 NMagM=    0.0000000   0.0000000   2.7928460   2.7928460   2.7928460   0.0000000   2.7928460   2.7928460   2.7928460   0.4037610
 AtZNuc=   6.0000000   6.0000000   1.0000000   1.0000000   1.0000000   6.0000000   1.0000000   1.0000000   1.0000000   7.0000000

  Atom        21          22          23          24          25          26          27          28          29          30
 IAtWgt=          12           1           1          12          12           1          12           1          12          12
 AtmWgt=  12.0000000   1.0078250   1.0078250  12.0000000  12.0000000   1.0078250  12.0000000   1.0078250  12.0000000  12.0000000
 NucSpn=           0           1           1           0           0           1           0           1           0           0
 AtZEff=  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000  -0.0000000
 NQMom=    0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000   0.0000000
 NMagM=    0.0000000   2.7928460   2.7928460   0.0000000   0.0000000   2.7928460   0.0000000   2.7928460   0.0000000   0.0000000
 AtZNuc=   6.0000000   1.0000000   1.0000000   6.0000000   6.0000000   1.0000000   6.0000000   1.0000000   6.0000000   6.0000000

  Atom        31          32          33          34
 IAtWgt=          14          12          14           1
 AtmWgt=  14.0030740  12.0000000  14.0030740   1.0078250
 NucSpn=           2           0           2           1
 AtZEff=  -0.0000000  -0.0000000  -0.0000000  -0.0000000
 NQMom=    2.0440000   0.0000000   2.0440000   0.0000000
 NMagM=    0.4037610   0.0000000   0.4037610   2.7928460
 AtZNuc=   7.0000000   6.0000000   7.0000000   1.0000000
 Leave Link  101 at Mon Mar 31 09:13:55 2025, MaxMem=  6442450944 cpu:               5.0 elap:               0.1
 (Enter /opt/gaussian/g16/l103.exe)
```
1-34表示第1-34个原子，"AtmWgt="行对应的数据该原子的相对原子质量，每行最多10个原子，超过10个原子会换行由于每次是9行一起输出的，"AtmWgt="行下次出现是在+9行后，最后输出的质量要将单位转化为原子单位制（a.u.）

### get_coor
坐标部分数据在文件中有如下格式：
```
                         Standard orientation:                         
 ---------------------------------------------------------------------
 Center     Atomic      Atomic             Coordinates (Angstroms)
 Number     Number       Type             X           Y           Z
 ---------------------------------------------------------------------
      1          7           0        1.970019   -0.000001   -0.000000
      2          6           0       -1.101191   -2.761941   -0.000000
      3          6           0       -0.675441   -4.151731   -0.000000
      4          6           0        0.675589   -4.151971   -0.000000
      5          6           0        1.101729   -2.762301   -0.000000
      6          6           0        2.761999   -1.101391   -0.000000
      7          6           0        4.151809   -0.675491   -0.000000
      8          6           0        4.151809    0.675489    0.000000
      9          6           0        2.761999    1.101389    0.000000
     10          6           0        1.101729    2.762309    0.000000
     11          6           0        0.675589    4.151979    0.000000
     12          6           0       -0.675441    4.151729    0.000000
     13          6           0       -1.101191    2.761929    0.000000
     14          6           0       -2.762211    1.101569    0.000000
     15          6           0       -4.152031    0.675479    0.000000
     16          6           0       -4.152031   -0.675481   -0.000000
     17          6           0       -2.762211   -1.101581   -0.000000
     18          1           0       -1.349821   -4.992781   -0.000000
     19          1           0        1.349679   -4.993251   -0.000000
     20          1           0        4.992719   -1.350031   -0.000000
     21          1           0        4.992719    1.350029    0.000000
     22          1           0        1.349669    4.993249    0.000000
     23          1           0       -1.349821    4.992779    0.000000
     24          1           0       -4.993201    1.349709    0.000000
     25          1           0       -4.993201   -1.349721   -0.000000
     26         12           0       -0.000991    0.000009    0.000000
     27          7           0        2.371609    2.371449    0.000000
     28          7           0       -2.371171    2.371259    0.000000
     29          7           0        2.371609   -2.371451   -0.000000
     30          7           0        0.000519    1.970239    0.000000
     31          7           0       -1.970491   -0.000001   -0.000000
     32          7           0        0.000519   -1.970241   -0.000000
     33          7           0       -2.371171   -2.371261   -0.000000
 ---------------------------------------------------------------------
``` 
单位为埃(A)，输出单位需要转化为原子单位值(a.u.)

### get_omega
将要输出的变量记为omega，omega开始为空列表
振动频率在文件中有如下格式：
```
...
 Harmonic frequencies (cm**-1), IR intensities (KM/Mole), Raman scattering
 activities (A**4/AMU), depolarization ratios for plane and unpolarized
 incident light, reduced masses (AMU), force constants (mDyne/A),
 and normal coordinates:
                           1         2         3         4         5
                           A         A         A         A         A
       Frequencies ---    32.5512   41.9793   57.8450   78.1808   97.9679
    Reduced masses ---     5.3993    5.7989    7.2865    2.5246    1.6716
   Force constants ---     0.0034    0.0060    0.0144    0.0091    0.0095
    IR Intensities ---     4.7254    1.1339    4.5203    0.4311    0.4371
 Coord Atom Element:
   1     1     6          0.00000   0.00001   0.02730  -0.00000  -0.00000
   2     1     6          0.00000  -0.00003  -0.15854   0.00000   0.00000
...
```
 其中 1 2 3表示第几个振动模式，共有3N-6 （自由度）个振动模式，" Frequencies --- "所在的行即为要找的频率，你需要找到" Frequencies --- "所在的行，读取改行" Frequencies --- "后面的以空格分割的数字为浮点数列表，并extend到omega中。最后将omega 变为array，并将其reshape为3N-6行1列并return

 ### get_mode
 振动模式在文件中有如下格式：
```
...
 Harmonic frequencies (cm**-1), IR intensities (KM/Mole), Raman scattering
 activities (A**4/AMU), depolarization ratios for plane and unpolarized
 incident light, reduced masses (AMU), force constants (mDyne/A),
 and normal coordinates:
                           1         2         3         4         5
                           A         A         A         A         A
       Frequencies ---    32.5512   41.9793   57.8450   78.1808   97.9679
    Reduced masses ---     5.3993    5.7989    7.2865    2.5246    1.6716
   Force constants ---     0.0034    0.0060    0.0144    0.0091    0.0095
    IR Intensities ---     4.7254    1.1339    4.5203    0.4311    0.4371
 Coord Atom Element:
   1     1     6          0.00000   0.00001   0.02730  -0.00000  -0.00000
   2     1     6          0.00000  -0.00003  -0.15854   0.00000   0.00000
   3     1     6          0.11604   0.18009  -0.00005  -0.03466  -0.09757
   1     2     6         -0.00000   0.00001   0.07695  -0.00000  -0.00000
   2     2     6          0.00000  -0.00001  -0.08566   0.00000   0.00000
   3     2     6         -0.00445   0.12365  -0.00004  -0.05425  -0.11439
   1     3     6         -0.00000   0.00001   0.03528  -0.00000  -0.00000
   2     3     6          0.00000  -0.00000  -0.00818  -0.00000   0.00000
   3     3     6         -0.04900   0.01853  -0.00001  -0.01706  -0.00539
   1     4     6          0.00000  -0.00001  -0.04661   0.00000   0.00000
   2     4     6          0.00000  -0.00000  -0.00140  -0.00000   0.00000
   3     4     6          0.02299  -0.03115   0.00002   0.03458   0.07089
   1     5     6          0.00000  -0.00002  -0.09719   0.00000   0.00000
   2     5     6          0.00000  -0.00001  -0.07453   0.00000   0.00000
   3     5     6          0.14003   0.02289   0.00001   0.05871   0.10784
   1     6     6          0.00000  -0.00001  -0.05798   0.00000   0.00000
   2     6     6          0.00000  -0.00003  -0.15352   0.00000   0.00000
   3     6     6          0.18809   0.12994  -0.00002   0.02532   0.02925
   1     7     1         -0.00000   0.00001   0.05715  -0.00000  -0.00000
   2     7     1          0.00000  -0.00004  -0.21916   0.00000   0.00000
   3     7     1          0.15719   0.26670  -0.00008  -0.05977  -0.18231
   1     8     1         -0.00001   0.00003   0.14614  -0.00001  -0.00000
...
```
你需要找到所有' Frequencies --- '所在的行，其后后面的第5到3N+4行（闭区间）的数据是我们需要处理的区域，该区域是3N行若干列的数据，同一行的数据以空格分割，你需要将该区域的数据转化为array，并将所有的这样的区域的array去掉前三列并通过hstack拼起来，最后得到一个3N行若干列的array，输出这个array

 ### get_force
 force部分在log文件中有如下形式：
```
 -------------------------------------------------------------------
 Center     Atomic                   Forces (Hartrees/Bohr)
 Number     Number              X              Y              Z
 -------------------------------------------------------------------
      1        6           0.000018618   -0.000025625   -0.000000505
      2        6          -0.000002947   -0.000019507   -0.000000177
      3        6           0.000010511   -0.000041892    0.000000977
      4        6          -0.000038487    0.000061873    0.000000495
      5        6           0.000001515    0.000023150   -0.000000028
      6        6           0.000014986    0.000028105    0.000000318
      7        1           0.000004939   -0.000002141    0.000000316
      8        1           0.000005077   -0.000000617   -0.000000067
      9        1           0.000003387    0.000012677    0.000000094
     10        1           0.000000244    0.000009437   -0.000000258
     11        6           0.000016590   -0.000083489   -0.000003876
     12        6          -0.000022331    0.000044487   -0.000037213
     13        1           0.000000411   -0.000003750    0.000002038
     14        1           0.000003617   -0.000007924    0.000006783
     15        1           0.000002620   -0.000002495    0.000003594
     16        6          -0.000021769    0.000040586    0.000039877
     17        1           0.000001463   -0.000006914   -0.000006416
     18        1           0.000002357   -0.000001086   -0.000001813
     19        1           0.000002404   -0.000001442   -0.000004454
     20        7          -0.000110890    0.000067300   -0.000002580
     21        6          -0.000020116   -0.000071763    0.000004011
     22        1           0.000006057    0.000006715   -0.000003774
     23        1           0.000003922    0.000006518    0.000000454
     24        6           0.000122643   -0.000014627    0.000003696
     25        6          -0.000061791    0.000048614   -0.000000076
     26        1           0.000012281   -0.000026914   -0.000000028
     27        6           0.000125381   -0.000024405   -0.000001528
     28        1          -0.000022332    0.000015113   -0.000000531
     29        6          -0.000048379   -0.000046409   -0.000003574
     30        6           0.000012481    0.000001459    0.000010238
     31        7          -0.000013216    0.000010852   -0.000005312
     32        6          -0.000008671    0.000044985   -0.000001121
     33        7           0.000000415   -0.000042100    0.000000388
     34        1          -0.000000989    0.000001229    0.000000049
 -------------------------------------------------------------------
 Cartesian Forces:  Max     0.000125381 RMS     0.000030752
 Z-matrix is all fixed cartesians, so copy forces.
```
 前两列为原子标号与原子序数，不是我们感兴趣的数据，后三列为原子在xyz方向的受力，共N行（N为原子个数），单位本来就是原子单位，不需要转化，直接读取即可，输出N*3的矩阵


